import{r,a as n,j as e,b as a,c as f,R as m}from"./bootstrap.min-Bj-T9_wc.js";function j(){const[i,l]=r.useState(!1),[d,u]=r.useState(!1),g=t=>{const c=new URLSearchParams(window.location.search);var h=c.get("logout");h&&n.get(t+"/logout?session="+a.get("token")).then(o=>{console.log(o.data),a.remove("token"),u(!0)}).catch(o=>{console.error("Error logging out:",o)}).finally(()=>{});var s=c.get("code");s&&n.get(t+"/callback?code="+s).then(o=>{var x=o.data;a.set("token",x),l(!0)}).catch(o=>{console.error("Error fetching token:",o)})};return r.useEffect(()=>{n.get("/auth/getOauthClientURL").then(t=>{console.log("OauthClientURL:",t.data),g(t.data)}).catch(t=>{console.error("Error fetching OauthClientURL:",t)})},[]),e.jsx(e.Fragment,{children:d?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Logged out, redirect soon ..."}),e.jsx("meta",{"http-equiv":"refresh",content:"2; url=/login"})]}):i?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Authenticated, redirect soon ..."}),e.jsx("meta",{"http-equiv":"refresh",content:"2; url=/"})]}):e.jsx("p",{children:"Processing ..."})})}f.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(j,{})}));
